(this["webpackJsonptodo-react"]=this["webpackJsonptodo-react"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},33:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(19),o=n.n(a),s=(n(25),n(26),n(27),n(12)),i=n(7),u=n(40),l=n(38),d=n(42),f=n(39),j=n(41),b=n(17),v=n(18);function O(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1];function o(t){t.key===e&&a(!0)}var s=function(t){t.key===e&&a(!1)};return Object(c.useEffect)((function(){return window.addEventListener("keydown",o),window.addEventListener("keyup",s),function(){window.removeEventListener("keydown",o),window.removeEventListener("keyup",s)}}),[]),r}n(33);var m=n(6);function p(e){var t,n,r=e.task,a=e.index,o=e.onDragStart,s=e.onDragEnd,f=e.remove,j=e.complete,p=e.onEditEnd,g=Object(c.useState)(!1),h=Object(i.a)(g,2),x=h[0],E=h[1],k=Object(c.useState)(!1),w=Object(i.a)(k,2),y=w[0],D=w[1],S=Object(c.useState)(r.title),N=Object(i.a)(S,2),C=N[0],L=N[1],T=Object(c.useRef)(null),F=Object(c.useRef)(null),I=O("Enter"),A=O("Escape");return t=F,n=function(){return D(!1)},Object(c.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&n(e)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,n]),Object(c.useEffect)((function(){console.log("Task: ",r),y?(T.current.focus(),I&&(p(a,C),D(!1)),A&&D(!1)):L(r.title)}),[y,I,A,r,a,C,p]),Object(m.jsxs)("div",{className:"row p-0",onMouseEnter:function(e){return E(!0)},onMouseLeave:function(e){return E(!1)},children:[Object(m.jsx)("div",{className:"title",ref:F,onClick:function(){return D(!0)},draggable:!0,onDragStart:o,onDragEnd:s,style:{textDecoration:r.completed?"line-through":"",border:0},children:y?Object(m.jsx)(u.a.Control,{ref:T,as:"input",value:C,onChange:function(e){L(e.target.value)}}):C}),Object(m.jsx)("div",{className:"button p-0",children:x?Object(m.jsxs)(l.a,{className:"float-right",children:[Object(m.jsx)(d.a,{variant:"outline-primary",size:"sm",onClick:j,children:Object(m.jsx)(b.a,{icon:v.a})}),Object(m.jsx)(d.a,{variant:"outline-primary",size:"sm",onClick:f,children:Object(m.jsx)(b.a,{icon:v.b})})]}):""})]})}function g(e){var t=e.add,n=Object(c.useState)(),r=Object(i.a)(n,2),a=r[0],o=r[1];console.log("value: ",a);return Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),a&&(t(a),o(""))},children:Object(m.jsx)("input",{type:"text",className:"form-control border border-primary mb-3",value:a,placeholder:"Add a new task",onChange:function(e){return o(e.target.value)}})})}var h=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([{title:"test1",completed:!1},{title:"test2",completed:!1},{title:"test3",completed:!1}]),o=Object(i.a)(a,2),u=o[0],l=o[1],d=Object(c.useState)(),b=Object(i.a)(d,2),v=b[0],O=b[1];Object(c.useEffect)((function(){r(u.filter((function(e){return!e.completed})).length),console.log("Todo tasks: ",u)}),[u,l]);return Object(m.jsxs)(f.a,{className:"vh-100 row mx-auto",children:[Object(m.jsx)("div",{className:"header align-self-end"}),Object(m.jsxs)("div",{className:"tasks align-self-center",children:["Pending tasks (",n,")",Object(m.jsx)(g,{add:function(e){var t=Object(s.a)(u);t.splice(n,0,{title:e,complete:!1}),l(t)}}),Object(m.jsx)(j.a,{onDragOver:function(e){return e.preventDefault},style:{listStyleType:"none"},className:"shadow-sm",children:u.map((function(e,t){return Object(m.jsx)(j.a.Item,{onDragOver:function(e){return function(e,t){e.preventDefault();var n=u[t];if(v&&v!==n){var c=u.filter((function(e){return e!==v}));c.splice(t,0,v),l(c)}}(e,t)},children:Object(m.jsx)(p,{task:e,index:t,onDragStart:function(e){return function(e,t){O(u[t]),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.target.parentNode),e.dataTransfer.setDragImage(e.target.parentNode,20,20)}(e,t)},onDragEnd:function(e){O(null)},remove:function(){return function(e){var t=Object(s.a)(u);t.splice(e,1),l(t)}(t)},complete:function(){return function(e){var t=Object(s.a)(u);t[e].completed=!t[e].completed,l(t)}(t)},onEditEnd:function(e,t){return function(e,t){console.log("onEditEnd: ",e," ",t);var n=u;n[e].title=t,l(n),console.log("onEditEnd Tasks:",u)}(e,t)}})},t)}))})]}),Object(m.jsx)("div",{className:"create-task align-self-start"})]})};var x=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(h,{})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root")),E()}},[[36,1,2]]]);
//# sourceMappingURL=main.6d7cb28a.chunk.js.map